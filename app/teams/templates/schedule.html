{% extends "base.html" %}
{% block title %}{{ team.school.school_name }} {{ team.sport.name }} Schedule{% endblock %}
{% block content %}
<header class="bg-dark-body">
    <div>
        <img src="{{ url_for('schools.static', filename='images/all_schools_banner.webp') }}"
             alt="{{ team.sport.name }} Banner"
             class="img-fluid"
             style="height: 170px; width: 100%; object-fit: cover;">
    </div>
</header>

<main class="bg-dark-body" style="min-height: 100vh; padding-top: 10px;">
    <div class="container text-light">
        <h1 class="text-center">{{ team.school.school_name }} {{ team.sport.name }} Schedule</h1>
        <p class="text-center">Season: {{ season.start.strftime("%B %d, %Y") }} - {{ season.end.strftime("%B %d, %Y") }}</p>

        <!-- Team Record -->
        <p class="text-center">Record:
            <span>{{ record.wins }} Wins</span>,
            <span>{{ record.losses }} Losses</span>
        </p>

        <table class="table table-dark table-striped mt-4">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Opponent</th>
                    <th>Opponent Level</th>
                    <th>Result</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>
                {% for game in schedule %}
                <tr>
                    <td>{{ game.date }}</td>
                    <td>{{ game.opponent }}</td>
                    <td>{{ game.opponent_level }}</td>
                    <td>
                        <span
                            class="{% if game.result == 'Win' %}text-success{% elif game.result == 'Loss'
                                    %}text-danger{% else %}text-light{% endif %}">
                            {{ game.result or 'Pending' }}
                        </span>
                    </td>
                    <td>{{ game.score }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</main>
{% endblock %}
